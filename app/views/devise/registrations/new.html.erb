<div class="min-h-screen py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md mx-auto">
    <!-- ヘッダーセクション -->
    <div class="text-center mb-8">
      <h2 class="text-3xl font-bold text-gray-900 mb-2">
        <%= t("devise.registrations.new.sign_up_title") %>
      </h2>
    </div>

    <!-- フォームカード -->
    <div class="bg-white shadow-2xl rounded-2xl overflow-hidden">
      <div class="px-8 py-8">
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { class: "space-y-6" }) do |f| %>
          <!-- エラーメッセージ -->
          <% if resource.errors.any? %>
            <div class="bg-red-50 border border-red-200 rounded-lg p-4">
              <div class="flex items-center mb-2">
                <svg class="w-5 h-5 text-red-500 mr-2" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                </svg>
                <h3 class="text-sm font-medium text-red-800">入力内容を確認してください</h3>
              </div>
              <ul class="text-sm text-red-700 space-y-1">
                <% resource.errors.full_messages.each do |message| %>
                  <li class="flex items-start">
                    <span class="mr-2">•</span>
                    <span><%= message %></span>
                  </li>
                <% end %>
              </ul>
            </div>
          <% end %>

          <!-- 名前フィールド -->
          <div class="space-y-2">
            <%= f.label :name, class: "block text-sm font-semibold text-gray-700" do %>
              <span class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mr-2 text-amber-500">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
                </svg>
                ニックネーム
                <span class="text-red-500 ml-1">*</span>
              </span>
            <% end %>
            <%= f.text_field :name, 
                autofocus: true,
                placeholder: "山田太郎",
                class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-amber-500 focus:ring-2 focus:ring-offset-2 hover:border-gray-400 #{resource.errors[:name].any? ? 'border-red-500 bg-red-50' : ''}" %>
          </div>

          <!-- メールアドレスフィールド -->
          <div class="space-y-2">
            <%= f.label :email, class: "block text-sm font-semibold text-gray-700" do %>
              <span class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mr-2 text-amber-500">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
                </svg>
                メールアドレス
                <span class="text-red-500 ml-1">*</span>
              </span>
            <% end %>
            <%= f.email_field :email,
                autocomplete: "email",
                placeholder: "example@order.com",
                class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-amber-500 focus:ring-2 focus:ring-offset-2 hover:border-gray-400 #{resource.errors[:email].any? ? 'border-red-500 bg-red-50' : ''}" %>
          </div>
          <!-- パスワードフィールド -->
          <div class="space-y-2">
            <%= f.label :password, class: "block text-sm font-semibold text-gray-700" do %>
              <span class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mr-2 text-amber-500">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
                </svg>
                パスワード
                <span class="text-red-500 ml-1">*</span>
              </span>
            <% end %>
            <div class="relative">
              <%= f.password_field :password,
                  autocomplete: "new-password",
                  placeholder: "6文字以上（英大文字・小文字・数字を含む）",
                  class: "w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-amber-500 focus:ring-2 focus:ring-offset-2 hover:border-gray-400 #{resource.errors[:password].any? ? 'border-red-500 bg-red-50' : ''}" %>
              <!-- パスワード表示切り替えボタン -->
              <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none" onclick="togglePassword('password')">
                <svg id="password-eye" class="w-5 h-5 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
              </button>
            </div>
          </div>

          <!-- パスワード確認フィールド -->
          <div class="space-y-2">
            <%= f.label :password_confirmation, class: "block text-sm font-semibold text-gray-700" do %>
              <span class="flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 mr-2 text-amber-500">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                </svg>

                パスワード確認
                <span class="text-red-500 ml-1">*</span>
              </span>
            <% end %>
            <div class="relative">
              <%= f.password_field :password_confirmation,
                  autocomplete: "new-password",
                  placeholder: "上記と同じパスワードを入力",
                  class: "w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-amber-500 focus:ring-2 focus:ring-offset-2 hover:border-gray-400 #{resource.errors[:password_confirmation].any? ? 'border-red-500 bg-red-50' : ''}" %>
              <!-- パスワード表示切り替えボタン -->
              <button type="button" class="absolute inset-y-0 right-0 pr-3 flex items-center focus:outline-none" onclick="togglePassword('password_confirmation')">
                <svg id="password_confirmation-eye" class="w-5 h-5 text-gray-400 hover:text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                </svg>
              </button>
            </div>
            <!-- パスワード一致確認 -->
            <div id="password-match" class="hidden">
              <p class="text-xs text-green-600 flex items-center">
                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                パスワードが一致しています
              </p>
            </div>
            <div id="password-mismatch" class="hidden">
              <p class="text-xs text-red-600 flex items-center">
                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                </svg>
                パスワードが一致しません
              </p>
            </div>
          </div>

          <!-- 登録ボタン -->
          <div class="pt-4">
            <%= f.submit t("devise.registrations.new.sign_up_button"), 
                class: "w-full flex justify-center items-center px-6 py-3 border border-transparent rounded-lg text-base font-semibold
                   text-white bg-amber-500 hover:bg-orange-400 focus:outline-none 
                   focus:ring-2 focus:ring-offset-2 focus:ring-amber-500" %>
          </div>
        <% end %>
        <!-- ソーシャルログイン（オプション） -->
        <div class="pt-6">
          <div class="relative">
            <div class="absolute inset-0 flex items-center">
              <div class="w-full border-t border-gray-300"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="px-2 bg-white text-gray-500">または</span>
            </div>
          </div>
          <div class="mt-6 space-y-3">
            <%= render "devise/shared/twitter_login" %>
          </div>
        </div>
      </div>

      <!-- フッターリンク -->
      <div class="px-8 py-6 bg-gray-50 border-t border-gray-200">
        <div class="text-center space-y-3">
          <p class="text-sm text-gray-600">
            すでにアカウントをお持ちですか？
          </p>
          <%= render "devise/shared/links" %>
        </div>
      </div>
    </div>
  </div>
</div>